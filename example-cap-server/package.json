{
  "private": true,
  "name": "example-cap-server",
  "version": "1.0.0",
  "scripts": {
    "postinstall": "npm run copy-library",
    "start": "cds-serve --with-mtx",
    "watch": "cds watch --with-mtx",
    "subscribeTenants": "cds subscribe t1 --to http://localhost:4004 -u yves: && cds subscribe t2 --to http://localhost:4004 -u yves: && cds subscribe t3 --to http://localhost:4004 -u yves:",
    "dev": "npm run copy-library && npm run subscribeTenants && npm start",
    "copy-library": "npx shx rm -rf node_modules/@cap-js-community/event-queue && npx shx mkdir -p node_modules/@cap-js-community/event-queue && npx shx cp -R ../package.json ../index.cds ../cds-plugin.js ../src ../srv ../db node_modules/@cap-js-community/event-queue",
    "test": "jest"
  },
  "dependencies": {
    "@cap-js-community/event-queue": "file:..",
    "@cap-js/audit-logging": "^1.1.1",
    "@sap/cds": "^9.5.1",
    "@sap/cds-mtxs": "^3.5.0",
    "express": "^4.21.2"
  },
  "devDependencies": {
    "@cap-js-community/common": "^0.3.2",
    "@cap-js/cds-test": "^0",
    "@cap-js/sqlite": "2.1.0",
    "@sap/xssec": "^4.11.2",
    "cron-parser": "5.4.0",
    "eslint": "8.56.0",
    "eslint-config-prettier": "9.0.0",
    "jest": "30.2.0",
    "prettier": "3.7.4",
    "redis": "^4.7.0",
    "yaml": "2.8.2"
  },
  "cds": {
    "eventQueue": {
      "useAsCAPQueue": true
    },
    "requires": {
      "outbox": false,
      "multitenancy": true,
      "[test]": {
        "multitenancy": false,
        "cds.xt.ModelProviderService": false,
        "cds.xt.SaasProvisioningService": false,
        "cds.xt.DeploymentService": false,
        "cds.xt.ExtensibilityService": false
      },
      "cds.xt.ModelProviderService": true,
      "cds.xt.SaasProvisioningService": true,
      "cds.xt.DeploymentService": true,
      "cds.xt.ExtensibilityService": false,
      "task-service": {
        "impl": "./srv/facade/task-service.js",
        "queued": {
          "kind": "persistent-queue",
          "load": 60,
          "events": {
            "syncJobs": {
              "load": 10,
              "cron": "*/15 * * * * *"
            }
          }
        }
      },
      "mail-service": {
        "impl": "./srv/facade/mail-service.js",
        "queued": {
          "kind": "persistent-queue"
        }
      },
      "[production]": {
        "multitenancy": true
      },
      "[with-mtx]": {
        "multitenancy": true
      }
    },
    "profile": "with-mtx-sidecar"
  }
}
